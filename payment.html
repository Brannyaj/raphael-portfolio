<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-LSQRCDK0WS"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        
        // Basic tracking starts immediately (page views, basic engagement)
        gtag('config', 'G-LSQRCDK0WS', {
            'send_page_view': true,
            'anonymize_ip': false  // Enable proper tracking for real-time
        });
    </script>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment & Project Details - Raphael</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg?v=3">
    <link rel="apple-touch-icon" href="favicon.svg?v=3">
    <link rel="shortcut icon" type="image/svg+xml" href="favicon.svg?v=3">
    
    <!-- Preload CSS for faster loading -->
    <link rel="preload" href="styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="styles.css"></noscript>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://js.stripe.com/v3/"></script>
</head>
<body style="background: #0f172a; margin: 0; padding: 0;">
    <!-- Loading Spinner -->
    <div id="loading" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #0f172a; z-index: 9999; display: flex; align-items: center; justify-content: center; flex-direction: column;">
        <div style="width: 50px; height: 50px; border: 3px solid rgba(255,255,255,0.3); border-top: 3px solid #60a5fa; border-radius: 50%; animation: spin 1s linear infinite;"></div>
        <div style="color: white; margin-top: 20px; font-family: Inter, sans-serif; font-size: 16px;">Loading...</div>
    </div>
    
    <!-- Hide all content until loaded -->
    <div id="main-content" style="opacity: 0; transition: opacity 0.5s ease;">
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <a href="index.html">Raphael</a>
            </div>
            <div class="nav-menu" id="nav-menu">
                <a href="portfolio.html" class="nav-link">Portfolio</a>
                <a href="skills.html" class="nav-link">Skills</a>
                <a href="pricing.html" class="nav-link">Pricing</a>
                <a href="gallery.html" class="nav-link">Gallery</a>
                <a href="contact.html" class="nav-link">Contact</a>
                <a href="about.html" class="nav-link">About</a>
            </div>
            <div class="nav-toggle" id="nav-toggle">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- Payment Section -->
    <section class="payment-section">
        <div class="container">
            <div class="payment-header">
                <h2>Project Details & Payment</h2>
                <p id="payment-header-text">Fill in your details below and pay the 20% deposit to get started. I'll follow up with you to discuss your project in detail.</p>
            </div>

            <div class="payment-content">
                <!-- Project Summary -->
                <div class="project-summary">
                    <h3>Project Summary</h3>
                    <div class="summary-details">
                        <div class="summary-item">
                            <span class="summary-label">Service:</span>
                            <span class="summary-value" id="selected-service">-</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Complexity:</span>
                            <span class="summary-value" id="selected-complexity">-</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Total Cost:</span>
                            <span class="summary-value" id="display-total-cost">$0</span>
                        </div>
                        <div class="summary-item highlight">
                            <span class="summary-label" id="deposit-label">20% Deposit:</span>
                            <span class="summary-value" id="display-deposit-cost">$0</span>
                        </div>
                        <div class="summary-item">
                            <span class="summary-label">Remaining Balance:</span>
                            <span class="summary-value" id="display-remaining-cost">$0</span>
                        </div>
                        <p class="summary-note" id="summary-note">Remaining balance due upon project completion</p>
                    </div>
                </div>

                <!-- Payment Form -->
                <div class="payment-form-wrapper">
                    <form id="payment-form">
                        <h3>Your Information</h3>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label for="client-name">Full Name *</label>
                                <input type="text" id="client-name" name="client-name" required>
                            </div>
                            
                            <div class="form-group">
                                <label for="client-email">Email Address *</label>
                                <input type="email" id="client-email" name="client-email" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="client-phone">Phone Number *</label>
                            <div class="phone-input-group">
                                <select id="country-code" name="country-code" class="country-code-select" required>
                                    <option value="+1">ðŸ‡ºðŸ‡¸ +1</option>
                                    <option value="+44">ðŸ‡¬ðŸ‡§ +44</option>
                                    <option value="+91">ðŸ‡®ðŸ‡³ +91</option>
                                    <option value="+86">ðŸ‡¨ðŸ‡³ +86</option>
                                    <option value="+81">ðŸ‡¯ðŸ‡µ +81</option>
                                    <option value="+49">ðŸ‡©ðŸ‡ª +49</option>
                                    <option value="+33">ðŸ‡«ðŸ‡· +33</option>
                                    <option value="+39">ðŸ‡®ðŸ‡¹ +39</option>
                                    <option value="+34">ðŸ‡ªðŸ‡¸ +34</option>
                                    <option value="+52">ðŸ‡²ðŸ‡½ +52</option>
                                    <option value="+55">ðŸ‡§ðŸ‡· +55</option>
                                    <option value="+61">ðŸ‡¦ðŸ‡º +61</option>
                                    <option value="+7">ðŸ‡·ðŸ‡º +7</option>
                                    <option value="+82">ðŸ‡°ðŸ‡· +82</option>
                                    <option value="+27">ðŸ‡¿ðŸ‡¦ +27</option>
                                    <option value="+234">ðŸ‡³ðŸ‡¬ +234</option>
                                    <option value="+254">ðŸ‡°ðŸ‡ª +254</option>
                                    <option value="+971">ðŸ‡¦ðŸ‡ª +971</option>
                                    <option value="+966">ðŸ‡¸ðŸ‡¦ +966</option>
                                    <option value="+20">ðŸ‡ªðŸ‡¬ +20</option>
                                    <option value="+62">ðŸ‡®ðŸ‡© +62</option>
                                    <option value="+60">ðŸ‡²ðŸ‡¾ +60</option>
                                    <option value="+65">ðŸ‡¸ðŸ‡¬ +65</option>
                                    <option value="+63">ðŸ‡µðŸ‡­ +63</option>
                                    <option value="+66">ðŸ‡¹ðŸ‡­ +66</option>
                                    <option value="+84">ðŸ‡»ðŸ‡³ +84</option>
                                    <option value="+92">ðŸ‡µðŸ‡° +92</option>
                                    <option value="+880">ðŸ‡§ðŸ‡© +880</option>
                                    <option value="+90">ðŸ‡¹ðŸ‡· +90</option>
                                    <option value="+98">ðŸ‡®ðŸ‡· +98</option>
                                    <option value="+964">ðŸ‡®ðŸ‡¶ +964</option>
                                    <option value="+972">ðŸ‡®ðŸ‡± +972</option>
                                    <option value="+420">ðŸ‡¨ðŸ‡¿ +420</option>
                                    <option value="+48">ðŸ‡µðŸ‡± +48</option>
                                    <option value="+351">ðŸ‡µðŸ‡¹ +351</option>
                                    <option value="+31">ðŸ‡³ðŸ‡± +31</option>
                                    <option value="+32">ðŸ‡§ðŸ‡ª +32</option>
                                    <option value="+41">ðŸ‡¨ðŸ‡­ +41</option>
                                    <option value="+43">ðŸ‡¦ðŸ‡¹ +43</option>
                                    <option value="+45">ðŸ‡©ðŸ‡° +45</option>
                                    <option value="+46">ðŸ‡¸ðŸ‡ª +46</option>
                                    <option value="+47">ðŸ‡³ðŸ‡´ +47</option>
                                    <option value="+358">ðŸ‡«ðŸ‡® +358</option>
                                    <option value="+353">ðŸ‡®ðŸ‡ª +353</option>
                                    <option value="+30">ðŸ‡¬ðŸ‡· +30</option>
                                    <option value="+54">ðŸ‡¦ðŸ‡· +54</option>
                                    <option value="+56">ðŸ‡¨ðŸ‡± +56</option>
                                    <option value="+57">ðŸ‡¨ðŸ‡´ +57</option>
                                    <option value="+51">ðŸ‡µðŸ‡ª +51</option>
                                    <option value="+58">ðŸ‡»ðŸ‡ª +58</option>
                                    <option value="+64">ðŸ‡³ðŸ‡¿ +64</option>
                                </select>
                                <input type="tel" id="client-phone" name="client-phone" placeholder="123 456 7890" required>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label for="project-description">Project Description *</label>
                            <textarea id="project-description" name="project-description" rows="5" placeholder="Describe what you need done exactly..." required></textarea>
                        </div>
                        
                        <h3 class="payment-section-title">Payment Information</h3>
                        
                        <div class="payment-amount-display">
                            <span>Amount due now:</span>
                            <strong id="payment-amount-text">$0</strong>
                        </div>
                        
                        <!-- Stripe Payment Element -->
                        <div class="form-group">
                            <div id="payment-element">
                                <!-- Stripe.js will inject the Payment Element here -->
                            </div>
                        </div>
                        
                        <div id="payment-message" class="payment-message"></div>
                        
                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary btn-submit" id="submit-payment">
                                <span id="button-text">Pay Deposit & Submit</span>
                                <div class="spinner hidden" id="spinner"></div>
                            </button>
                            
                            <a href="pricing.html" class="btn btn-secondary">Back to Pricing</a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>
    </div> <!-- End main-content -->

    <script src="script.js"></script>
    
    <style>
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
    
    <!-- Hide loading spinner when page is fully loaded -->
    <script>
        window.addEventListener('load', function() {
            // Wait a bit longer to ensure CSS is fully loaded
            setTimeout(() => {
                const loading = document.getElementById('loading');
                const mainContent = document.getElementById('main-content');
                
                if (loading && mainContent) {
                    // Show main content
                    mainContent.style.opacity = '1';
                    
                    // Hide loading spinner
                    loading.style.opacity = '0';
                    loading.style.transition = 'opacity 0.5s ease';
                    
                    setTimeout(() => {
                        loading.style.display = 'none';
                    }, 500);
                }
            }, 800); // Wait 800ms to ensure everything is loaded
        });
    </script>
</body>
</html>

